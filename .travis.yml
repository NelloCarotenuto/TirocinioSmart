dist: trusty
sudo: required

language: java

jdk: oraclejdk8

cache:
  directories:
  - $HOME/.m2

services:
  - mysql

before_script:
 - mysql -u root -e "UPDATE mysql.user SET Password = PASSWORD('root') WHERE User = 'root'; FLUSH PRIVILEGES;"
 - echo "Set MySQL root password"
 - mysql -e 'CREATE DATABASE tirociniosmart;'
 - echo "TirocinioSmart schema created"
 - cd webapp
 - echo "Moved to webapp root"

script: ./mvnw clean install spring-boot:repackage